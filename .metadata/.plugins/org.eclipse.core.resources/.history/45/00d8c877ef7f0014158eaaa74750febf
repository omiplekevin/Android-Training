package com.example.flickrpublicfeeds.services;

import android.app.IntentService;
import android.content.Intent;
import android.util.Log;

import com.example.flickrpublicfeeds.MainActivity;
import com.example.flickrpublicfeeds.helper.Utilities;

public class RequestJSONService extends IntentService{
	
	public static String PARAM_SRC = "url_src";
	
	public RequestJSONService() {
		super(name);
	}

	@Override
	protected void onHandleIntent(Intent intent) {
		Log.e("SERVICE", "SERVICE");
		String jsonContent = Utilities.SendFeedRequest(intent.getExtras().getString(PARAM_SRC));
		
		Intent i = new Intent();
		i.setAction(MainActivity.ResponseReceiver.ACTION_RESPONSE);
		i.putExtra(MainActivity.ResponseReceiver.CONTENT_KEY, jsonContent);
		i.addCategory(Intent.CATEGORY_DEFAULT);
		sendBroadcast(i);
		
	}

}
