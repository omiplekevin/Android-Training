package com.example.helper;

import java.io.IOException;
import java.net.InetAddress;

import android.content.Context;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.util.Log;

public class Utility {

	/**
	 * Checks if the device has network connectivity and Internet access.
	 * 
	 * 1 - Connected to network only - NO Internet access
	 * 2 - Both connected to network and has Internet access
	 * 0 - Not connected to any network and no Internet access. Enable device radio module to connect to available networks.
	 * @param context
	 * @return RESPONSE_CODE
	 */
	public static int hasInternetAccess(Context context) {
		int RESPONSE_CODE = 0;
		ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);
		NetworkInfo activeNetworkInfo = connectivityManager
				.getActiveNetworkInfo();
		if (activeNetworkInfo != null && activeNetworkInfo.isConnected()) {
			RESPONSE_CODE = 1;
		}
		
		try {
		    InetAddress ina = InetAddress.getByName("www.google.com");

		    if(ina.isReachable(3000)) {
		        Log.e("INET ACCESS", "true");
		        RESPONSE_CODE = 2;
		    } else {
		    	Log.e("INET ACCESS", "false");
		    } 
		} catch (IOException ioe) {
		    ioe.printStackTrace();

		}
		
		return RESPONSE_CODE;
	}
}
